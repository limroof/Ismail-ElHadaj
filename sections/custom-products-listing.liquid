{{ 'custom-products-listing.css' | asset_url | stylesheet_tag }}

<script>
  let productListing_variants = [];
  let soft_winter_jacked={{all_products['dark-winter-jacket'] | json}};
</script>

<section id="custom-products-listing">
  {% if section.settings.heading %}
    <h3>{{ section.settings.heading }}</h3>
  {% endif %}

  <div class="products-grid">
    <div class="products-grid-container">
      {% if section.settings.product1 != blank %}
        {% render 'custom-product-card', with product: section.settings.product1 %}
      {% endif %}
      {% if section.settings.product2 != blank %}
        {% render 'custom-product-card', with product: section.settings.product2 %}
      {% endif %}
      {% if section.settings.product3 != blank %}
        {% render 'custom-product-card', with product: section.settings.product3 %}
      {% endif %}

      {% if section.settings.product4 != blank %}
        {% render 'custom-product-card', with product: section.settings.product4 %}
      {% endif %}
      {% if section.settings.product5 != blank %}
        {% render 'custom-product-card', with product: section.settings.product5 %}
      {% endif %}
      {% if section.settings.product6 != blank %}
        {% render 'custom-product-card', with product: section.settings.product6 %}
      {% endif %}
    </div>
  </div>
  <div class="popup-overlay"></div>
</section>

<div class="sucess_add">
  <span>{% render 'success-icon' %} Product successfully added to cart</span>
</div>
<div class="add_fail">
  <span>There was a problem adding the product </span>
</div>
<script src="{{ 'popupProduct.js' | asset_url }}" defer></script>

{% schema %}
{
  "name": "Products listing",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading"
    },
    {
      "type": "product",
      "id": "product1",
      "label": "Select a product"
    },
    {
      "type": "product",
      "id": "product2",
      "label": "Select a product"
    },
    {
      "type": "product",
      "id": "product3",
      "label": "Select a product"
    },
    {
      "type": "product",
      "id": "product4",
      "label": "Select a product"
    },
    {
      "type": "product",
      "id": "product5",
      "label": "Select a product"
    },
    {
      "type": "product",
      "id": "product6",
      "label": "Select a product"
    },
    {
      "type": "text",
      "id": "add_to_cart_btn",
      "label": "Popup's button text"
    },
    {
      "type": "text",
      "id": "dropdown_option",
      "label": "Text for dropdown"
    }
  ]
}
{% endschema %}
